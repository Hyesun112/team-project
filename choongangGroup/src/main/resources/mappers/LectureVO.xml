<?xml version="1.0" encoding="UTF-8"?>

<!-- ======= mapper 기본설정 ======= -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ==== 루트 엘리먼트 & 네임스페이스 설정(프로젝트 전체 내에서 유일해야 한다.) ==== -->
<mapper namespace="com.oracle.choongangGroup.hs.lecManagement.LectureVOMapper">
	
	<select id="hsLecList" parameterType="lectureVO" resultType="LectureVO">
		select *
		from 
		(
		        select rownum rn, a.*
		        from
		        (select * from lecture order by lec_status desc, lec_id desc, lec_year desc) a
		)
		<if test="status != null and status != ''">
			where lec_status Like '%' || #{status} || '%'
		</if>
		<if test="keyword != null and keyword != ''">
			and lec_name Like '%' || #{keyword} || '%'
		</if>
		<if test="year != null and year != ''">
			and lec_year Like '%' || #{year} || '%'
		</if>
		<if test="semester != null and semester != ''">
			and lec_semester Like '%' || #{semester} || '%'
		</if>
	</select>
	
	<select id="hsLecTotal" resultType="int">
		select count(*)
		from lecture
		where lec_status = 1
	</select>
	
	<select id="hsLecDetail" parameterType="Long" resultType="LectureVO">
		select * from lecture
		where lec_id = #{lec_id}
	</select>
</mapper>